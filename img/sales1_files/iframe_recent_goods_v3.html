
<!-- saved from url=(0048)https://rg.rozetka.com.ua/iframe_recent_goods_v3 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var message_interface_1=require("../message.interface");exports.BROADCAST_MESSAGE_TYPE="BroadcastMessage";var BroadcastMessageHandler=function(){function e(e,n,a){var s=this;this.window=e,this.messageSender=n,this.channelFactories=a,this.channelName="rzBroadcastChannel",this.channel=this.getChannel(),this.channel&&this.channel.onMessage(function(e){return s.onChannelMessage(new message_interface_1.IFrameMessageEvent(e))})}return e.prototype.canHandle=function(e){return e.data.type===exports.BROADCAST_MESSAGE_TYPE},e.prototype.handle=function(e){switch(e.data.action){case"sendMessage":this.sendMessageAction(e)}},e.prototype.sendMessageAction=function(e){this.channel&&this.channel.sendMessage(e.data)},e.prototype.onChannelMessage=function(e){this.messageSender.sendMessage(e.data)},e.prototype.getChannel=function(){if(!this.channel){var e=this.channelFactories.filter(function(e){return e.isAvailable()}).shift();e&&(this.channel=e.getChannel(this.channelName))}return this.channel},e}();exports.BroadcastMessageHandler=BroadcastMessageHandler;
},{"../message.interface":9}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var native_broadcast_channel_1=require("./native-broadcast-channel"),NativeBroadcastChannelFactory=function(){function a(a){this.window=a}return a.prototype.isAvailable=function(){return this.window.BroadcastChannel instanceof Function},a.prototype.getChannel=function(a){return new native_broadcast_channel_1.NativeBroadcastChannel(new BroadcastChannel(a))},a}();exports.NativeBroadcastChannelFactory=NativeBroadcastChannelFactory;
},{"./native-broadcast-channel":3}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var NativeBroadcastChannel=function(){function e(e){var t=this;this.broadcast=e,this.broadcast.onmessage=function(e){t.onmessage&&t.onmessage(e)}}return e.prototype.getName=function(){return this.broadcast.name},e.prototype.onMessage=function(e){this.onmessage=e},e.prototype.sendMessage=function(e){this.broadcast.postMessage(e)},e}();exports.NativeBroadcastChannel=NativeBroadcastChannel;
},{}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var storage_channel_1=require("./storage-channel"),StorageChannelFactory=function(){function e(e){this.window=e}return e.prototype.isAvailable=function(){return Boolean(this.window.localStorage)},e.prototype.getChannel=function(e){return new storage_channel_1.StorageChannel(this.window,e)},e}();exports.StorageChannelFactory=StorageChannelFactory;
},{"./storage-channel":5}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=require("../../../helpers"),StorageChannel=function(){function e(e,t){this.window=e,this.channelName=t}return e.prototype.getName=function(){return this.channelName},e.prototype.onMessage=function(e){var t=this;helpers_1.addEventHandler(this.window,"storage",function(n){if(n.key===t.getKeyName())try{var a=JSON.parse(n.newValue);e({data:a})}catch(e){}})},e.prototype.sendMessage=function(e){this.window.localStorage.setItem(this.getKeyName(),JSON.stringify(e))},e.prototype.getKeyName=function(){return"$_broadcast_channel_"+this.channelName},e}();exports.StorageChannel=StorageChannel;
},{"../../../helpers":6}],6:[function(require,module,exports){
"use strict";function addEventHandler(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addEventHandler=addEventHandler;
},{}],7:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var broadcast_handler_1=require("./broadcast-handler/broadcast-handler"),native_broadcast_channel_factory_1=require("./broadcast-handler/channel/broadcast-channel/native-broadcast-channel.factory"),storage_channel_factory_1=require("./broadcast-handler/channel/storage-channel/storage-channel.factory"),helpers_1=require("./helpers"),main_messages_handler_1=require("./main-messages-handler"),message_interface_1=require("./message.interface"),message_sender_1=require("./message.sender"),storage_messages_handler_1=require("./storage-handler/storage-messages-handler"),xml_http_handler_1=require("./xml-http/xml-http-handler"),DOMAIN="rozetka.com.ua";if(new RegExp(DOMAIN).test(document.domain)||null===document.domain)try{document.domain=DOMAIN}catch(e){void 0!==window.console&&void 0!==console.error&&console.error(e)}var origin="https://"+DOMAIN;try{origin=window.parent.origin||origin}catch(e){}var messageSender=new message_sender_1.MessageSender(origin),mainMessagesHandler=(new main_messages_handler_1.MainMessagesHandler).addHandler(new broadcast_handler_1.BroadcastMessageHandler(window,messageSender,[new native_broadcast_channel_factory_1.NativeBroadcastChannelFactory(window),new storage_channel_factory_1.StorageChannelFactory(window)])).addHandler(new xml_http_handler_1.XmlHttpMessageHandler(messageSender)).addHandler(new storage_messages_handler_1.StorageMessagesHandler(window.localStorage,messageSender));helpers_1.addEventHandler(window,"message",function(e){return mainMessagesHandler.handleEvent(new message_interface_1.IFrameMessageEvent(e))});
},{"./broadcast-handler/broadcast-handler":1,"./broadcast-handler/channel/broadcast-channel/native-broadcast-channel.factory":2,"./broadcast-handler/channel/storage-channel/storage-channel.factory":4,"./helpers":6,"./main-messages-handler":8,"./message.interface":9,"./message.sender":10,"./storage-handler/storage-messages-handler":11,"./xml-http/xml-http-handler":12}],8:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MainMessagesHandler=function(){function e(){this.handlers=[]}return e.prototype.addHandler=function(e){return this.handlers.push(e),this},e.prototype.handleEvent=function(e){var n=!1,r=this.handlers.filter(function(n){return n.canHandle(e)}).pop();return r&&(n=!0,r.handle(e)),n},e}();exports.MainMessagesHandler=MainMessagesHandler;
},{}],9:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IFrameMessageEvent=function(){function e(e){this.message=e,this.data=e.data}return e.prototype.getOrigin=function(){return this.message.origin||this.message.originEvent.origin},e}();exports.IFrameMessageEvent=IFrameMessageEvent;
},{}],10:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MessageSender=function(){function e(e){this.targetOrigin=e}return e.prototype.sendMessage=function(e){window.parent.postMessage(e,this.targetOrigin)},e}();exports.MessageSender=MessageSender;
},{}],11:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var LOCAL_STORAGE_MESSAGE_TYPE="LocalStorage",StorageMessagesHandler=function(){function e(e,t){this.localStorage=e,this.messageSender=t,this.commands=["setItem","clear","getStorage","delStorage"]}return e.prototype.canHandle=function(e){return e.data.action&&this.commands.indexOf(e.data.action)>-1},e.prototype.handle=function(e){switch(e.data.action){case"setItem":this.setItem(e);break;case"getStorage":this.getStorage(e);break;case"delStorage":this.delStorage(e);break;case"clear":this.clear()}},e.prototype.getStorage=function(e){var t=this,a=[];Object.keys(this.localStorage).filter(function(e){return"$_"!==e.slice(0,2)}).forEach(function(o){var s={};s.item_name=o,s.item_value="session_json"===o?t.getSession(e.data.session_version,t.localStorage.session_json):t.localStorage[o],a.push(s)}),this.messageSender.sendMessage({type:LOCAL_STORAGE_MESSAGE_TYPE,action:"getStorage",content:a})},e.prototype.setItem=function(e){this.localStorage.setItem(e.data.item_name,e.data.item_value)},e.prototype.clear=function(){this.localStorage.clear()},e.prototype.delStorage=function(e){void 0!==this.localStorage[e.data.item_name]&&delete this.localStorage[e.data.item_name]},e.prototype.getSession=function(e,t){return e?this.getFormattedSessionJSON(e,t):t},e.prototype.getFormattedSessionJSON=function(e,t){switch(e){case"1":return this.mapSessionData(t);default:return JSON.stringify({err:"not available session version <<"+e+">>"})}},e.prototype.mapSessionData=function(e){return e},e}();exports.StorageMessagesHandler=StorageMessagesHandler;
},{}],12:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var XmlHttpMessageHandler=function(){function e(e){this.messageSender=e}return e.prototype.handle=function(e){var t,n,a,s,r,o,d=this;t=e.data.url,(a=String(e.getOrigin()).substr(-1-String(document.domain).length))!=="."+document.domain&&a!=="/"+document.domain||(s=function(){var e;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e||"undefined"==typeof XMLHttpRequest||(e=new XMLHttpRequest),e}(),r=e.data.method?e.data.method:"GET",o=e.data.body?e.data.body:null,"POST"===r.toUpperCase()?(s.open("POST",t,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8")):s.open("GET",t,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Accept","text/javascript, text/html, application/xml, text/xml, */*"),s.onreadystatechange=function(){4===s.readyState&&200===s.status&&(n=void 0!==s.responseURL?s.responseURL:null,d.messageSender.sendMessage({url:n,response:s.responseText}))},s.send(o))},e.prototype.canHandle=function(e){return"xmlhttp"===e.data.action},e}();exports.XmlHttpMessageHandler=XmlHttpMessageHandler;
},{}]},{},[7]);
</script></head><body></body></html>